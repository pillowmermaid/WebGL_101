<!DOCTYPE html>
<html>
<head>
	<title>WebGL 1.0 Lessons</title>
	<link rel="stylesheet" href="./css/webgl-tutorials.css">
	<link rel="stylesheet" href="./css/main.css">
</head>
<body>
	<canvas id="c"></canvas>
	<div id="uiContainer">

		<div id="ui">
			<div id="x"></div>
			<div id="y"></div>
		</div>

	</div>
	<script id="2d-vertex-shader" type="x-shader/x-vertex">
	// attribute vec4 a_position;
	attribute vec2 a_position;

	uniform vec2 u_resolution;
	uniform vec2 u_translation;
	uniform vec2 u_rotation;

	void main() {
		// Rotates the rotation
		vec2 rotatedPosition = vec2(
			a_position.x * u_rotation.y + a_position.y * u_rotation.x,
			a_position.y * u_rotation.y - a_position.x * u_rotation.x
		);

		// adds translation to the
		vec2 position = rotatedPosition + u_translation;

		//                1                     2                       3
		//(( pixels to a range of 0 -> 1) * make range 0 -> 2) - (make range -1 -> +1)
		// Long story short, it converts pixel space to clip space
		vec2 clipSpace =  ((position / u_resolution) * 2.0) - 1.0;

		gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
	}
	</script>

	<script id="2d-fragment-shader" type="x-shader/x-fragment">
	precision mediump float;

	uniform vec4 u_color;

	void main() {
		gl_FragColor = u_color;
	}
	</script>


	<script type="text/javascript" src="./helpers/canvas.js"></script>
	<script type="text/javascript" src="./helpers/math.js"></script>
	<script type="text/javascript" src="./helpers/webgl.js"></script>
	<script type="text/javascript" src="./helpers/webgl-lessons-ui.js"></script>

	<script type="text/javascript" src="./main.js"></script>
</body>
</html>
